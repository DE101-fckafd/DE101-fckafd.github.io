<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politischer Partei-Matcher</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #fff5db; }
        .container { max-width: 600px; margin: auto; padding: 20px; text-align: center; }
        .question { margin-bottom: 40px; } /* 增大每个问题之间的行间距 */
        .question-header { font-weight: bold; margin-bottom: 10px; }
        .question-text { font-size: 18px; margin-bottom: 20px; }
        .options { display: flex; justify-content: center; gap: 15px; } /* 选项水平排列并增加间距 */
        .options button { 
            background-color: #ffb700; 
            border: none; 
            padding: 10px 15px; 
            cursor: pointer; 
            font-size: 16px;
            color: white;
            border-radius: 5px;
        }
        .options button.selected { background-color: #808080; }
        .skip { float: right; color: black; font-size: 14px; cursor: pointer; padding: 5px 10px; background-color: #ffb700; border-radius: 5px; }
        .skip.selected { background-color: #808080; color: white; }
        #result { margin-top: 20px; font-weight: bold; }
        .calculate-button {
            display: block;
            margin: 30px auto;
            padding: 15px 30px;
            font-size: 18px;
            background-color: #ff8800;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .calculate-button:hover {
            background-color: #cc6d00;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="quiz"></div>
        <button class="calculate-button" onclick="calculateMatch()">计算结果</button>
        <div id="result"></div>
    </div>

    <script>
        const questions = [{id: 1, text: '应允许欧盟收取自己的税款。'}, {id: 2, text: '具有燃烧发动机的车辆也应该能够在2035年后重新批准在欧盟中。'}, {id: 3, text: '欧盟应该在地中海建立自己的海上救援。'}, {id: 4, text: '允许乌克兰成为欧盟的成员。'}, {id: 5, text: '欧盟主要旨在促进生态农业。'}, {id: 6, text: '在德国，欧元将被国货币替换。'}, {id: 7, text: '欧盟旨在建议成员国除了“女性”和“男性”之外，还可以在护照中进入其他性别认同。'}, {id: 8, text: '允许对狼的狩猎被允许在股票不濒危的地区。'}, {id: 9, text: '在欧盟建造新的住宅建筑时，应强制使用光伏系统。'}, {id: 10, text: '欧盟的更多外交政策决定应以多数而不是一致。'}, {id: 11, text: '允许飞机燃料煤炭是欧盟航班的免税。'}, {id: 12, text: '欧洲刑警组织联合警察局将获得进一步的权力。'}, {id: 13, text: '欧盟旨在促进跨境，多语言的公共服务广播提供。'}, {id: 14, text: '欧盟应该拒绝成为气候中立的目标。'}, {id: 15, text: '在欧洲议会的选举中，当事方应继续能够自由地决定其名单上的性别比例。'}, {id: 16, text: '欧盟旨在为成员国的基本社会保障量提供要求。'}, {id: 17, text: '社交网络的运营商应被允许自由决定如何在其平台上处理虚假信息。'}, {id: 18, text: '在欧盟中，比自然储量要多的区域要多。'}, {id: 19, text: '欧盟为违反欧盟规则和价值的会员国提供资金，应继续退缩。'}, {id: 20, text: '允许欧盟为乌克兰提供了更多武器。'}, {id: 21, text: '要减少在欧盟水域中可能捕获的鱼类的允许数量。'}, {id: 22, text: '欧盟对中国电动汽车的进口关税将增加。'}, {id: 23, text: '欧盟应努力确保所有成员国的堕胎是可能的。'}, {id: 24, text: '欧盟成员国之间的永久边界控制应再次发生。'}, {id: 25, text: '应通过全民公决在所有成员国中确认向欧盟的新州接纳。'}, {id: 26, text: '欧盟应允许种植其他基因修饰的植物品种。'}, {id: 27, text: '性别 - 针对妇女的特定暴力被认为是整个欧洲庇护的原因。'}, {id: 28, text: '欧盟应免费使用受版权保护的作品（例如照片，音乐，文学作品）。'}, {id: 29, text: '欧盟对俄罗斯的制裁将被拆除。'}, {id: 30, text: '对于拥有较少财务手段的学生来说，伊拉斯mus+留在国外的奖学金应该更高。'}, {id: 31, text: '欧盟应继续将核电归类为可持续能源。'}, {id: 32, text: '应该简化专家向欧盟的移民。'}, {id: 33, text: '非欧洲投资者参与关键基础设施领域的公司将受到限制。'}, {id: 34, text: '欧盟委员会主席应由公民直接选举。'}, {id: 35, text: '在欧盟，公司必须支付更多的货币排放。'}, {id: 36, text: '寻求庇护者必须在超过欧盟外部边界之前进行申请，并等待那里的结果。'}, {id: 37, text: '欧盟应继续投资于普通的欧洲军备项目。'}, {id: 38, text: '欧洲议会应继续在欧盟发挥核心作用。'}];
        
        const parties = {'AfD': {1: -1,
  2: 1,
  3: -1,
  4: -1,
  5: -1,
  6: 1,
  7: -1,
  8: 1,
  9: -1,
  10: -1,
  11: 1,
  12: -1,
  13: -1,
  14: 1,
  15: 1,
  16: -1,
  17: 1,
  18: -1,
  19: -1,
  20: -1,
  21: -1,
  22: -1,
  23: -1,
  24: 1,
  25: 1,
  26: -1,
  27: -1,
  28: 0,
  29: 1,
  30: 0,
  31: 1,
  32: -1,
  33: 1,
  34: 1,
  35: -1,
  36: 1,
  37: -1,
  38: -1},
 'CDU / CSU': {1: -1,
  2: 1,
  3: -1,
  4: 1,
  5: -1,
  6: -1,
  7: -1,
  8: 1,
  9: -1,
  10: 1,
  11: 1,
  12: 1,
  13: -1,
  14: -1,
  15: 1,
  16: -1,
  17: -1,
  18: 0,
  19: 1,
  20: 1,
  21: -1,
  22: 1,
  23: -1,
  24: 1,
  25: -1,
  26: 0,
  27: 1,
  28: -1,
  29: -1,
  30: 1,
  31: 1,
  32: 1,
  33: 1,
  34: -1,
  35: 1,
  36: 1,
  37: 1,
  38: 1},
 'DIE LINKE': {1: 1,
  2: -1,
  3: 1,
  4: -1,
  5: 1,
  6: -1,
  7: 1,
  8: -1,
  9: 1,
  10: -1,
  11: -1,
  12: -1,
  13: 1,
  14: -1,
  15: -1,
  16: 1,
  17: -1,
  18: 1,
  19: 1,
  20: -1,
  21: 1,
  22: -1,
  23: 1,
  24: -1,
  25: 1,
  26: -1,
  27: 1,
  28: 1,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: 1,
  35: 1,
  36: -1,
  37: -1,
  38: 1},
 'Die PARTEI': {1: -1,
  2: -1,
  3: 1,
  4: 0,
  5: 1,
  6: -1,
  7: 1,
  8: -1,
  9: 1,
  10: 1,
  11: -1,
  12: -1,
  13: 1,
  14: -1,
  15: 1,
  16: 1,
  17: 1,
  18: 1,
  19: 1,
  20: 0,
  21: 1,
  22: 1,
  23: 1,
  24: -1,
  25: 1,
  26: -1,
  27: 1,
  28: 1,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: 1,
  35: 1,
  36: -1,
  37: -1,
  38: 1},
 'FDP': {1: -1,
  2: 1,
  3: 1,
  4: 1,
  5: -1,
  6: -1,
  7: 1,
  8: 1,
  9: -1,
  10: 1,
  11: 1,
  12: 1,
  13: -1,
  14: -1,
  15: 1,
  16: -1,
  17: -1,
  18: -1,
  19: 1,
  20: 1,
  21: -1,
  22: -1,
  23: 1,
  24: -1,
  25: -1,
  26: 1,
  27: 1,
  28: 0,
  29: -1,
  30: 1,
  31: 1,
  32: 1,
  33: 1,
  34: -1,
  35: 0,
  36: 1,
  37: 1,
  38: 1},
 'GRÜNE': {1: 1,
  2: -1,
  3: 1,
  4: 1,
  5: 1,
  6: -1,
  7: 1,
  8: -1,
  9: 1,
  10: 1,
  11: -1,
  12: 1,
  13: 1,
  14: -1,
  15: -1,
  16: 1,
  17: -1,
  18: 1,
  19: 1,
  20: 1,
  21: 1,
  22: -1,
  23: 1,
  24: -1,
  25: -1,
  26: -1,
  27: 1,
  28: 0,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: -1,
  35: 1,
  36: -1,
  37: 1,
  38: 1},
 'PIRATEN': {1: -1,
  2: -1,
  3: -1,
  4: 1,
  5: 1,
  6: -1,
  7: 1,
  8: -1,
  9: 1,
  10: 1,
  11: -1,
  12: -1,
  13: 1,
  14: -1,
  15: 1,
  16: 1,
  17: -1,
  18: 1,
  19: 1,
  20: 1,
  21: 1,
  22: 1,
  23: 1,
  24: -1,
  25: -1,
  26: -1,
  27: 1,
  28: 1,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: 1,
  35: 1,
  36: -1,
  37: 1,
  38: 1},
 'SPD': {1: -1,
  2: -1,
  3: 1,
  4: 1,
  5: -1,
  6: -1,
  7: 1,
  8: 0,
  9: -1,
  10: 1,
  11: -1,
  12: 1,
  13: -1,
  14: -1,
  15: -1,
  16: 1,
  17: -1,
  18: 1,
  19: 1,
  20: 1,
  21: 1,
  22: 1,
  23: 1,
  24: -1,
  25: -1,
  26: 1,
  27: 1,
  28: 1,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: -1,
  35: 1,
  36: 1,
  37: 1,
  38: 1},
 'Volt': {1: 1,
  2: -1,
  3: 1,
  4: 1,
  5: 1,
  6: -1,
  7: 1,
  8: -1,
  9: 1,
  10: 1,
  11: -1,
  12: 1,
  13: 1,
  14: -1,
  15: -1,
  16: 1,
  17: -1,
  18: 1,
  19: 1,
  20: 1,
  21: 1,
  22: 1,
  23: 1,
  24: -1,
  25: -1,
  26: 1,
  27: 1,
  28: 1,
  29: -1,
  30: 1,
  31: -1,
  32: 1,
  33: 1,
  34: 1,
  35: 1,
  36: -1,
  37: 1,
  38: 1}};

        let userResponses = {};

        function renderQuiz() {
            let quizContainer = document.getElementById("quiz");
            quizContainer.innerHTML = "";
            questions.forEach(q => {
                let questionDiv = document.createElement("div");
                questionDiv.classList.add("question");
                questionDiv.innerHTML = `<div class='question-header'>${q.id}</div>
                                         <div class='question-text'>${q.text}</div>`;
                let optionsDiv = document.createElement("div");
                optionsDiv.classList.add("options");
                ["赞成", "中立", "反对"].forEach((option, index) => {
                    let btn = document.createElement("button");
                    btn.innerText = option;
                    btn.onclick = () => {
                        userResponses[q.id] = index === 0 ? 1 : index === 1 ? 0 : -1;
                        highlightSelected(optionsDiv, btn);
                    };
                    optionsDiv.appendChild(btn);
                });
                let skipLink = document.createElement("div");
                skipLink.classList.add("skip");
                skipLink.innerText = "跳过 →";
                skipLink.onclick = () => {
                    userResponses[q.id] = null;
                    highlightSelectedSkip(skipLink);
                };
                questionDiv.appendChild(optionsDiv);
                questionDiv.appendChild(skipLink);
                quizContainer.appendChild(questionDiv);
            });
        }

        function highlightSelected(optionsDiv, selectedButton) {
            Array.from(optionsDiv.children).forEach(btn => btn.classList.remove("selected"));
            selectedButton.classList.add("selected");
        }

        function highlightSelectedSkip(skipButton) {
            skipButton.classList.toggle("selected");
        }

        function calculateMatch() {
            let results = {};
            for (let party in parties) {
                results[party] = 0;
                let totalQuestions = 0;
                for (let qId in userResponses) {
                    if (userResponses[qId] !== null) {
                        totalQuestions++;
                        let userAnswer = userResponses[qId];
                        let partyAnswer = parties[party][qId];
                        
                        if (userAnswer === partyAnswer) {
                            results[party] += 2; // 完全匹配得2分
                        } else if (userAnswer === 0 || partyAnswer === 0) {
                            results[party] += 1; // 一方为中立得1分
                        }
                    }
                }
                results[party] = Math.round((results[party] / (totalQuestions * 2)) * 100); // 归一化为百分比
            }
            let sortedResults = Object.entries(results).sort((a, b) => b[1] - a[1]);
            let resultText = "<p>匹配度:</p><ul>";
            sortedResults.forEach(([party, score]) => {
                resultText += `<li><strong>${party}</strong>: ${score}%</li>`;
            });
            resultText += "</ul>";
            document.getElementById("result").innerHTML = resultText;
        }

        renderQuiz();
    </script>
</body>
</html>
